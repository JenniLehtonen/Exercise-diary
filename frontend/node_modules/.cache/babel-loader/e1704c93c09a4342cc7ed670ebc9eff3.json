{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jenni\\\\Documents\\\\GitHub\\\\harjoitus4-JenniMERN\\\\frontend\\\\src\\\\components\\\\Login.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport { Button, Form } from 'react-bootstrap';\nimport UserContext from '../contexts/UserContext';\nimport { login } from '../user/services/user-services';\nimport Register from './Register';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  //const userContext = useContext(UserContext);\n  //const [loginState, setLoginState] = useState('true');\n  const [validated, setValidated] = useState(false);\n  const [appError, setAppError] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [modalShow, setModalShow] = useState(false);\n\n  function MyVerticallyCenteredModal(props) {\n    _s();\n\n    const [user, setUser] = useState({\n      //uid: \"\",\n      password: \"\",\n      name: \"\",\n      email: \"\"\n    });\n    const [visible, setVisible] = useState(false); //Rekisteröitymis-painiketta varten\n\n    const button = /*#__PURE__*/_jsxDEV(Button, {\n      id: \"register\",\n      onClick: () => setVisible(!visible),\n      children: \"Rekister\\xF6idy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this) //Rekisteröitymispainikkeen näkyvyyden muuttaminen\n    ;\n\n    const checkIsValid = () => {\n      return user.email && user.password; //Katsotaan onko molemmat kentät syötetty sisäänkirjautumisessa\n    };\n\n    const setAppError = err => {\n      errContext.setAppError(err);\n      setShowError(true);\n    };\n    /*const setAppError = (err) => {\r\n      errContext.setAppError(err);\r\n      setShowError(true);\r\n    }*/\n\n    /*const uidHandler = (e) => {\r\n      e.preventDefault();\r\n      setUser({...user, uid:e.target.value});\r\n    };*/\n\n\n    const emailHandler = e => {\n      e.preventDefault();\n      setUser({ ...user,\n        email: e.target.value\n      });\n    };\n\n    const passwordHandler = e => {\n      e.preventDefault();\n      setUser({ ...user,\n        password: e.target.value\n      });\n    };\n    /*const switchState = () => {\r\n      setLoginState(!loginState);\r\n    };*/\n\n\n    const handleSubmit = e => {\n      if (!checkIsValid()) {\n        alert(\"Tarkista syötteet!\");\n      } else {\n        setValidated(true); //On login-tilassa ja on validi\n\n        login(user, setAppError, UserContext.login, UserContext.setEmail);\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(Modal, { ...props,\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          id: \"contained-modal-title-vcenter\",\n          children: \"Kirjaudu sis\\xE4\\xE4n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Kirjoita s\\xE4hk\\xF6posti ja salasana\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"S\\xE4hk\\xF6posti:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"Sy\\xF6t\\xE4 s\\xE4hk\\xF6posti\",\n              required: true,\n              value: user.email\n              /*VAIHDOIN TÄHÄN UID:N TILALLE EMAIL */\n              ,\n              onChange: e => emailHandler(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Salasana:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"Sy\\xF6t\\xE4 salasana\",\n              required: true,\n              value: user.password,\n              onChange: e => passwordHandler(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              id: \"logIn\",\n              onClick: () => {\n                setModalShow(false);\n                setVisible(false);\n                handleSubmit();\n              },\n              children: \"Kirjaudu sis\\xE4\\xE4n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Eik\\xF6 sinulla ole viel\\xE4 tili\\xE4?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), button, visible && /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: props.onHide,\n          children: \"Sulje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }, this);\n  }\n\n  _s(MyVerticallyCenteredModal, \"2UqJ0weHs5Bfhhe9tzB8ms2T0kk=\");\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MyVerticallyCenteredModal, {\n      show: modalShow,\n      onHide: () => setModalShow(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      onClick: () => setModalShow(true),\n      children: \"Kirjaudu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(Login, \"zczruozj+L/FOMMCZM4hAH1E890=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/jenni/Documents/GitHub/harjoitus4-JenniMERN/frontend/src/components/Login.js"],"names":["React","useContext","useState","Modal","Button","Form","UserContext","login","Register","Login","validated","setValidated","appError","setAppError","showError","setShowError","modalShow","setModalShow","MyVerticallyCenteredModal","props","user","setUser","password","name","email","visible","setVisible","button","checkIsValid","err","errContext","emailHandler","e","preventDefault","target","value","passwordHandler","handleSubmit","alert","setEmail","onHide"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport {Button, Form} from 'react-bootstrap';\r\nimport UserContext from '../contexts/UserContext';\r\nimport {login} from '../user/services/user-services';\r\nimport Register from './Register';\r\n\r\nconst Login = () => {\r\n  //const userContext = useContext(UserContext);\r\n  //const [loginState, setLoginState] = useState('true');\r\n  const [validated, setValidated] = useState(false);\r\n  const [appError, setAppError] = useState(false);\r\n  const [showError, setShowError] = useState(false);\r\n  const [modalShow, setModalShow] = useState(false);\r\n  \r\n    function MyVerticallyCenteredModal(props) {\r\n    \r\n      const [user, setUser] = useState({\r\n        //uid: \"\",\r\n        password: \"\",\r\n        name: \"\",\r\n        email: \"\"\r\n      });\r\n      const [visible, setVisible] = useState(false); //Rekisteröitymis-painiketta varten\r\n      const button = (\r\n        <Button id=\"register\"onClick={() => setVisible(!visible)}>Rekisteröidy</Button> //Rekisteröitymispainikkeen näkyvyyden muuttaminen\r\n      );\r\n      \r\n      const checkIsValid = () => {\r\n          return user.email && user.password; //Katsotaan onko molemmat kentät syötetty sisäänkirjautumisessa\r\n      };\r\n      const setAppError = (err) => {\r\n        errContext.setAppError(err);\r\n        setShowError(true);\r\n      }\r\n      /*const setAppError = (err) => {\r\n        errContext.setAppError(err);\r\n        setShowError(true);\r\n      }*/\r\n      /*const uidHandler = (e) => {\r\n        e.preventDefault();\r\n        setUser({...user, uid:e.target.value});\r\n      };*/\r\n      const emailHandler = (e) => {\r\n        e.preventDefault();\r\n        setUser({...user, email:e.target.value});\r\n      };\r\n      const passwordHandler = (e) => {\r\n        e.preventDefault();\r\n        setUser({...user, password:e.target.value});\r\n      };\r\n      /*const switchState = () => {\r\n        setLoginState(!loginState);\r\n      };*/\r\n      const handleSubmit = (e) => {\r\n        if(!checkIsValid()){\r\n          alert(\"Tarkista syötteet!\")\r\n        } else{\r\n          setValidated(true); //On login-tilassa ja on validi\r\n          login(user, setAppError, UserContext.login, UserContext.setEmail)\r\n        }\r\n      }\r\n        return(\r\n          <Modal\r\n        {...props}\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Kirjaudu sisään\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form>\r\n          <Form.Group>\r\n            <h6>Kirjoita sähköposti ja salasana</h6>\r\n            <Form.Label>Sähköposti:</Form.Label>\r\n            <Form.Control type=\"email\" placeholder=\"Syötä sähköposti\" \r\n            required value={user.email /*VAIHDOIN TÄHÄN UID:N TILALLE EMAIL */}\r\n            onChange={(e) => emailHandler(e)}/>\r\n            <Form.Label>Salasana:</Form.Label>\r\n            <Form.Control type=\"password\" placeholder=\"Syötä salasana\"\r\n            required value={user.password}\r\n            onChange={(e) => passwordHandler(e)} />\r\n            <br />\r\n            <Button id=\"logIn\" onClick={() =>{setModalShow(false); setVisible(false); handleSubmit();}}>Kirjaudu sisään</Button>\r\n          </Form.Group>\r\n        </Form>\r\n          <br />\r\n          <h6>Eikö sinulla ole vielä tiliä?</h6>\r\n          {button}\r\n          {visible && <Register />}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button onClick={props.onHide}>Sulje</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n        );\r\n    }\r\n    return(\r\n        <>\r\n          <MyVerticallyCenteredModal\r\n            show={modalShow}\r\n            onHide={() => setModalShow(false)}\r\n          />\r\n          <Button variant=\"primary\" onClick={() => setModalShow(true)}>Kirjaudu</Button>\r\n        </>\r\n    )\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}