{"ast":null,"code":"import axios from 'axios';\nconst baseUrlUsers = 'http://localhost:5000/api/users';\nconst baseUrlResults = 'http://localhost:5000/api/results';\n\nconst addWorkout = async (newObject, setAppError, setSuccess) => {\n  //Uuden treenin lisääminen\n  console.log(newObject);\n  const config = {\n    method: 'post',\n    url: baseUrlResults + '/' + newObject.person + '/',\n    headers: {\n      Authorization: 'Bearer ' + newObject.token\n    },\n    data: newObject\n  };\n\n  try {\n    let res = await axios(config);\n    setSuccess(true);\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    setAppError(\"Virhe treenin lisäämisessä, yritä uudelleen!\");\n    return;\n  }\n\n  ;\n};\n\nconst deleteWorkout = async (workoutObject, setAppError, setSuccess) => {\n  //Treenin poistaminen\n  const config = {\n    method: 'delete',\n    url: baseUrlResults + '/' + workoutObject.option + '/',\n    headers: {\n      Authorization: 'Bearer ' + workoutObject.token\n    },\n    data: workoutObject\n  };\n\n  try {\n    let res = await axios(config);\n    setSuccess(true);\n    return res.data;\n  } catch (error) {\n    setAppError(\"Virhe treenin poistamisessa, yritä uudelleen!\");\n    return;\n  }\n\n  ;\n};\n\nconst editWorkout = async (workoutObject, setAppError, setSuccess) => {\n  //Treenin muokkaaminen\n  const config = {\n    method: 'patch',\n    url: baseUrlResults + '/' + workoutObject + '/',\n    headers: {\n      Authorization: 'Bearer ' + workoutObject.token\n    },\n    data: workoutObject\n  };\n\n  try {\n    let res = await axios(config);\n    setAppError(null);\n    setSuccess(true);\n    return res.data;\n  } catch (error) {\n    setAppError(\"Virhe treenin muokkaamisessa, yritä uudelleen!\");\n    return;\n  }\n\n  ;\n};\n\nconst getProfessionalsResults = async token => {\n  //Haetaan ammattilaisten treenit\n  const config = {\n    method: 'get',\n    url: baseUrlResults + '/professionals/',\n    headers: {\n      Authorization: 'Bearer ' + token\n    }\n  };\n\n  try {\n    let res = await axios(config);\n    return res.data;\n  } catch (error) {\n    alert(error);\n    return;\n  }\n\n  ;\n};\n\nconst getResultsByUser = async personObject => {\n  //Haetaan kirjautuneen käyttäjän treenit\n  const config = {\n    method: 'post',\n    url: baseUrlResults + '/' + personObject.email + '/',\n    headers: {\n      Authorization: 'Bearer ' + personObject.token\n    },\n    data: personObject\n  };\n\n  try {\n    let res = await axios(config);\n    console.log(res.data);\n    return res.data;\n  } catch (error) {\n    console.log(\"User has no excercises yet\");\n    return;\n  }\n\n  ;\n};\n\nconst getAmateursResults = async () => {\n  //Haetaan harrastajien treenit\n  const config = {\n    method: 'get',\n    url: baseUrlResults + '/amateurs/',\n    headers: {}\n  };\n\n  try {\n    let res = await axios(config);\n    return res.data;\n  } catch (error) {\n    alert(error);\n    return;\n  }\n\n  ;\n};\n\nconst register = async (newObject, setAppError, setSuccess) => {\n  //Rekisteröidytään\n  await axios.post(`${baseUrlUsers}/register/`, newObject).then(response => {\n    setSuccess(true);\n    return response;\n  }).catch(error => {\n    setAppError(\"Rekisteröityminen epäonnistui, yritä uudelleen!\");\n    return \"virhe\";\n  });\n};\n\nconst login = async (newObject, setAppError, login) => {\n  //Kirjaudutaan sisään\n  let res = await axios.post(`${baseUrlUsers}/login/`, newObject).then(response => {\n    console.log(response);\n    login(response.data.token, response.data.email, response.data.firstname, response.data.userType);\n  }).catch(error => {\n    setAppError(\"Sisäänkirjautuminen epäonnistui, yritä uudelleen!\");\n    return \"virhe\";\n  });\n};\n\nconst logout = logout => {\n  //Kirjaudutaan ulos\n  logout();\n};\n\nexport { getAmateursResults, getProfessionalsResults, addWorkout, deleteWorkout, editWorkout, register, login, logout, getResultsByUser };","map":{"version":3,"sources":["C:/Users/jenni/Documents/GitHub/harjoitus4-JenniMERN/frontend/src/user/services/user-services.js"],"names":["axios","baseUrlUsers","baseUrlResults","addWorkout","newObject","setAppError","setSuccess","console","log","config","method","url","person","headers","Authorization","token","data","res","error","deleteWorkout","workoutObject","option","editWorkout","getProfessionalsResults","alert","getResultsByUser","personObject","email","getAmateursResults","register","post","then","response","catch","login","firstname","userType","logout"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nconst baseUrlUsers = 'http://localhost:5000/api/users';\r\nconst baseUrlResults = 'http://localhost:5000/api/results';\r\n\r\nconst addWorkout = async (newObject, setAppError, setSuccess) => { //Uuden treenin lisääminen\r\n    console.log(newObject);\r\n    const config = {\r\n        method: 'post',\r\n        url: baseUrlResults + '/' + newObject.person + '/',\r\n        headers: {Authorization: 'Bearer ' + newObject.token},\r\n        data: newObject\r\n    };\r\n    try {\r\n        let res = await axios(config);\r\n        setSuccess(true);\r\n        return res.data;\r\n    } catch (error){\r\n        console.log(error);\r\n        setAppError(\"Virhe treenin lisäämisessä, yritä uudelleen!\");\r\n        return;\r\n    };\r\n};\r\n\r\nconst deleteWorkout = async (workoutObject, setAppError, setSuccess) => { //Treenin poistaminen\r\n    const config = {\r\n        method: 'delete',\r\n        url: baseUrlResults + '/' + workoutObject.option + '/',\r\n        headers: {Authorization: 'Bearer ' + workoutObject.token},\r\n        data: workoutObject\r\n    };\r\n    try {\r\n        let res = await axios(config);\r\n        setSuccess(true);\r\n        return res.data;\r\n    } catch (error){\r\n        setAppError(\"Virhe treenin poistamisessa, yritä uudelleen!\");\r\n        return;\r\n    };\r\n};\r\n\r\nconst editWorkout = async (workoutObject, setAppError, setSuccess) => { //Treenin muokkaaminen\r\n    const config = {\r\n        method: 'patch',\r\n        url: baseUrlResults + '/' + workoutObject + '/',\r\n        headers: {Authorization: 'Bearer ' + workoutObject.token},\r\n        data: workoutObject\r\n    };\r\n    try {\r\n        let res = await axios(config);\r\n        setAppError(null);\r\n        setSuccess(true);\r\n        return res.data;\r\n    } catch (error){\r\n        setAppError(\"Virhe treenin muokkaamisessa, yritä uudelleen!\");\r\n        return;\r\n    };\r\n};\r\n\r\nconst getProfessionalsResults = async (token) => { //Haetaan ammattilaisten treenit\r\n    const config = {\r\n        method: 'get',\r\n        url: baseUrlResults + '/professionals/',\r\n        headers: {Authorization: 'Bearer ' + token}\r\n    };\r\n    try {\r\n        let res = await axios(config);\r\n        return res.data;\r\n    } catch (error){\r\n        alert(error);\r\n        return;\r\n    };\r\n};\r\n\r\nconst getResultsByUser = async (personObject) => { //Haetaan kirjautuneen käyttäjän treenit\r\n    const config = {\r\n        method: 'post',\r\n        url: baseUrlResults + '/' + personObject.email + '/',\r\n        headers: {Authorization: 'Bearer ' + personObject.token},\r\n        data: personObject\r\n    };\r\n    try {\r\n        let res = await axios(config);\r\n        console.log(res.data);\r\n        return res.data;\r\n    } catch (error){\r\n        console.log(\"User has no excercises yet\");\r\n        return;\r\n    };\r\n}\r\n\r\nconst getAmateursResults = async () => { //Haetaan harrastajien treenit\r\n    const config = {\r\n        method: 'get',\r\n        url: baseUrlResults + '/amateurs/',\r\n        headers: {}\r\n    };\r\n    try {\r\n        let res = await axios(config);\r\n        return res.data;\r\n    } catch (error){\r\n        alert(error);\r\n        return;\r\n    };\r\n};\r\n\r\n\r\nconst register = async (newObject, setAppError, setSuccess) =>{ //Rekisteröidytään\r\n    await axios.post(`${baseUrlUsers}/register/`, newObject)\r\n    .then(response => {\r\n        setSuccess(true);\r\n        return response;\r\n    })\r\n    .catch (error => {\r\n            setAppError(\"Rekisteröityminen epäonnistui, yritä uudelleen!\");\r\n            return \"virhe\";\r\n    })\r\n}\r\n\r\nconst login = async (newObject, setAppError, login) => { //Kirjaudutaan sisään\r\n    let res = await axios.post (`${baseUrlUsers}/login/`, newObject)\r\n    .then(response =>{\r\n        console.log(response);\r\n        login(response.data.token, response.data.email, response.data.firstname, response.data.userType);\r\n    })\r\n    .catch (error => {\r\n        setAppError(\"Sisäänkirjautuminen epäonnistui, yritä uudelleen!\");\r\n        return \"virhe\";\r\n    })\r\n}\r\n\r\nconst logout = (logout) => { //Kirjaudutaan ulos\r\n    logout();\r\n}\r\n\r\nexport {getAmateursResults, getProfessionalsResults, addWorkout, deleteWorkout, editWorkout, register, login, logout, getResultsByUser}\r\n"]},"metadata":{},"sourceType":"module"}