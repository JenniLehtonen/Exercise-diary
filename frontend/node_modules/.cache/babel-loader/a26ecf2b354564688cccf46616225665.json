{"ast":null,"code":"import axios from 'axios';\nimport { useContext } from 'react';\nconst baseUrlUsers = 'http://localhost:5000/api/users';\nconst baseUrlResults = 'http://localhost:5000/api/results';\n\nconst getAllResults = async () => {\n  const config = {\n    method: 'get',\n    url: baseUrlResults + '/',\n    headers: {},\n    data: {}\n  };\n\n  try {\n    let res = await axios(config);\n    return res.data;\n  } catch (error) {\n    alert(error);\n    return;\n  }\n\n  ;\n};\n\nconst addWorkout = async newObject => {\n  const config = {\n    method: 'post',\n    url: baseUrlResults + '/id/',\n    headers: {},\n    data: newObject\n  }; //näihin kohtiin ;?\n\n  try {\n    let res = await axios(config);\n    return res.data;\n  } catch (error) {\n    alert(error);\n    return;\n  }\n\n  ;\n};\n\nconst deleteWorkout = async workout => {\n  const config = {\n    method: 'delete',\n    url: baseUrlResults + '/' + workout + '/',\n    headers: {},\n    data: workout\n  };\n\n  try {\n    let res = await axios(config);\n    return res.data;\n  } catch (error) {\n    alert(error);\n    return;\n  }\n\n  ;\n};\n\nconst editWorkout = async workout => {\n  const config = {\n    method: 'patch',\n    url: baseUrlResults + '/' + workout + '/',\n    headers: {},\n    data: workout\n  };\n\n  try {\n    let res = await axios(config);\n    return res.data;\n  } catch (error) {\n    alert(error);\n    return;\n  }\n\n  ;\n};\n\nconst getProfessionalsResults = async () => {\n  const config = {\n    method: 'get',\n    url: baseUrlResults + '/professionals/',\n    headers: {}\n  };\n\n  try {\n    let res = await axios(config);\n    return res.data;\n  } catch (error) {\n    alert(error);\n    return;\n  }\n\n  ;\n};\n\nconst getResultsByUser = async user => {\n  console.log(user);\n  /*const config = {\r\n      method: 'get',\r\n      url: baseUrlResults + '/own-results/' + user + '/',\r\n      headers: {},\r\n      data: user\r\n  }\r\n  try {\r\n      let res = await axios(config);\r\n      return res.data;\r\n  } catch (error){\r\n      alert(error);\r\n      return;\r\n  };*/\n\n  await axios.get(`${baseUrlUsers}/own-results/`, user).then(response => {\n    return response;\n  });\n};\n\nconst getAmateursResults = async () => {\n  const config = {\n    method: 'get',\n    url: baseUrlResults + '/amateurs/',\n    headers: {}\n  };\n\n  try {\n    let res = await axios(config);\n    return res.data;\n  } catch (error) {\n    alert(error);\n    return;\n  }\n\n  ;\n};\n\nconst register = async (newObject, setError) => {\n  await axios.post(`${baseUrlUsers}/register/`, newObject).then(response => {\n    return response;\n  }).catch(error => {\n    if (error.response) {\n      let customError = error.response;\n      customError.userMessage = \"Rekisteröityminen epäonnistui\";\n      setError(customError);\n      return error;\n    }\n  });\n};\n\nconst login = async (newObject, setError, login, setEmail) => {\n  await axios.post(`${baseUrlUsers}/login/`, newObject).then(response => {\n    login();\n    setEmail(newObject.email);\n\n    if (response.data.message === \"Logged in !\") {\n      return \"Login succeeded\";\n    } else {\n      return \"error\";\n    }\n  }).catch(error => {\n    if (error.response) {\n      let customError = error.response;\n      customError.userMessage = \"Käyttäjää ei ole olemassa. Tarkista käyttäjätunnuksesi ja yritä uudelleen!\";\n      setError(customError);\n      return error;\n    }\n  });\n};\n\nexport { getAmateursResults, getProfessionalsResults, addWorkout, getAllResults, deleteWorkout, editWorkout, register, login, getResultsByUser };","map":{"version":3,"sources":["C:/Users/jenni/Documents/GitHub/harjoitus4-JenniMERN/frontend/src/user/services/user-services.js"],"names":["axios","useContext","baseUrlUsers","baseUrlResults","getAllResults","config","method","url","headers","data","res","error","alert","addWorkout","newObject","deleteWorkout","workout","editWorkout","getProfessionalsResults","getResultsByUser","user","console","log","get","then","response","getAmateursResults","register","setError","post","catch","customError","userMessage","login","setEmail","email","message"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {useContext} from 'react';\r\n\r\nconst baseUrlUsers = 'http://localhost:5000/api/users';\r\nconst baseUrlResults = 'http://localhost:5000/api/results';\r\n\r\nconst getAllResults = async () => {\r\n    const config = {\r\n        method: 'get',\r\n        url: baseUrlResults + '/',\r\n        headers: {},\r\n        data: {}\r\n    }\r\n    try {\r\n        let res = await axios(config);\r\n        return res.data;\r\n    } catch (error){\r\n        alert(error);\r\n        return;\r\n    };\r\n};\r\n\r\nconst addWorkout = async (newObject) => {\r\n    const config = {\r\n        method: 'post',\r\n        url: baseUrlResults + '/id/',\r\n        headers: {},\r\n        data: newObject\r\n    }//näihin kohtiin ;?\r\n    try {\r\n        let res = await axios(config);\r\n        return res.data;\r\n    } catch (error){\r\n        alert(error);\r\n        return;\r\n    };\r\n};\r\n\r\nconst deleteWorkout = async (workout) => {\r\n    const config = {\r\n        method: 'delete',\r\n        url: baseUrlResults + '/' + workout + '/',\r\n        headers: {},\r\n        data: workout\r\n    }\r\n    try {\r\n        let res = await axios(config);\r\n        return res.data;\r\n    } catch (error){\r\n        alert(error);\r\n        return;\r\n    };\r\n};\r\n\r\nconst editWorkout = async (workout) => {\r\n    const config = {\r\n        method: 'patch',\r\n        url: baseUrlResults + '/' + workout + '/',\r\n        headers: {},\r\n        data: workout\r\n    }\r\n    try {\r\n        let res = await axios(config);\r\n        return res.data;\r\n    } catch (error){\r\n        alert(error);\r\n        return;\r\n    };\r\n};\r\n\r\nconst getProfessionalsResults = async () => {\r\n    \r\n    const config = {\r\n        method: 'get',\r\n        url: baseUrlResults + '/professionals/',\r\n        headers: {}\r\n    }\r\n    try {\r\n        let res = await axios(config);\r\n        return res.data;\r\n    } catch (error){\r\n        alert(error);\r\n        return;\r\n    };\r\n};\r\n\r\nconst getResultsByUser = async (user) => {\r\n    console.log(user);\r\n    /*const config = {\r\n        method: 'get',\r\n        url: baseUrlResults + '/own-results/' + user + '/',\r\n        headers: {},\r\n        data: user\r\n    }\r\n    try {\r\n        let res = await axios(config);\r\n        return res.data;\r\n    } catch (error){\r\n        alert(error);\r\n        return;\r\n    };*/\r\n\r\n\r\n    await axios.get (`${baseUrlUsers}/own-results/`, user)\r\n    .then(response =>{\r\n        return response;\r\n    })\r\n}\r\n\r\nconst getAmateursResults = async () => {\r\n    \r\n    const config = {\r\n        method: 'get',\r\n        url: baseUrlResults + '/amateurs/',\r\n        headers: {}\r\n    }\r\n    try {\r\n        let res = await axios(config);\r\n        return res.data;\r\n    } catch (error){\r\n        alert(error);\r\n        return;\r\n    };\r\n};\r\n\r\n\r\nconst register = async (newObject, setError) =>{\r\n    await axios.post(`${baseUrlUsers}/register/`, newObject)\r\n    .then(response => {\r\n        return response;\r\n    })\r\n    .catch (error => {\r\n        if(error.response){\r\n            let customError = error.response;\r\n            customError.userMessage = \"Rekisteröityminen epäonnistui\";\r\n            setError(customError);\r\n            return error;\r\n        }\r\n    })\r\n}\r\n\r\nconst login = async (newObject, setError, login, setEmail) => {\r\n    await axios.post (`${baseUrlUsers}/login/`, newObject)\r\n    .then(response =>{\r\n        login();\r\n        setEmail(newObject.email);\r\n        if (response.data.message===\"Logged in !\"){\r\n            return \"Login succeeded\";\r\n        } else {\r\n            return \"error\";\r\n        }\r\n    })\r\n    .catch (error => {\r\n        if(error.response){\r\n            let customError = error.response;\r\n            customError.userMessage = \"Käyttäjää ei ole olemassa. Tarkista käyttäjätunnuksesi ja yritä uudelleen!\";\r\n            setError(customError);\r\n            return error;\r\n        }\r\n    })\r\n}\r\n\r\nexport {getAmateursResults, getProfessionalsResults, addWorkout, getAllResults, deleteWorkout, editWorkout, register, login, getResultsByUser}\r\n"]},"metadata":{},"sourceType":"module"}